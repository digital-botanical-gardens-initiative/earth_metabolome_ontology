[PrefixDeclaration]
: https://purl.org/emi/abox#
emi: https://purl.org/emi#
wd: http://www.wikidata.org/entity/
owl: http://www.w3.org/2002/07/owl#
rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
sdo: http://schema.org/
xml: http://www.w3.org/XML/1998/namespace
xsd: http://www.w3.org/2001/XMLSchema#
foaf: http://xmlns.com/foaf/0.1/
rdfs: http://www.w3.org/2000/01/rdf-schema#
skos: http://www.w3.org/2004/02/skos/core#
sosa: http://www.w3.org/ns/sosa/
vann: http://purl.org/vocab/vann/
void: http://rdfs.org/ns/void#
orcid: http://orcid.org/
dcterms: http://purl.org/dc/terms/
npc: https://purl.org/npc#
usi: https://metabolomics-usi.ucsd.edu/dashinterface/?usi1=
prov: http://www.w3.org/ns/prov#
up: http://purl.uniprot.org/core/

[MappingDeclaration] @collection [[

## taxonomy mapping original (Tarcisio)
mappingId	taxonomy
target		<https://tree.opentreeoflife.org/taxonomy/browse?id={ott}>  skos:exactMatch   <http://purl.uniprot.org/taxonomy/{ncbi_otol}>, <http://purl.uniprot.org/taxonomy/{ncbi_wd}>,  <https://www.gbif.org/species/{gbif_otol}>, <https://www.eol.org/pages/{eol}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_otol}> , <{WdID}> . <http://purl.uniprot.org/taxonomy/{ncbi_otol}> dcterms:identifier {ncbi_otol}^^xsd:int ; skos:inScheme <http://purl.uniprot.org/taxonomy>  . <http://purl.uniprot.org/taxonomy> rdfs:label "UniProtKB-NCBI organismal taxonomy" . <https://www.gbif.org/species/{gbif_otol}> dcterms:identifier {gbif_otol}^^xsd:int ; skos:inScheme <https://www.gbif.org/species> . <https://www.gbif.org/species> rdfs:label "The GBIF taxonomy" . <https://www.eol.org/pages/{eol}> dcterms:identifier {eol}^^xsd:int ; skos:inScheme <https://www.eol.org> . <https://www.eol.org> rdfs:label "Encyclopedia of Life" . <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}> dcterms:identifier {ncbi_wd}^^xsd:int ; skos:inScheme <http://purl.obolibrary.org/obo/ncbitaxon.owl> . <http://purl.obolibrary.org/obo/ncbitaxon.owl>  rdfs:label "NCBI organismal classification" . <{WdID}> dcterms:identifier {wd_id}^^xsd:string ; a emi:Taxon ; skos:inScheme <http://www.wikidata.org/entity> . <http://www.wikidata.org/entity> rdfs:label "Wikidata entities".


## try-db mapping individual
mappingId	try-db
target		:{Dataset} a emi:Dataset ; sosa:hasSample :{AccSpeciesName} . :{AccSpeciesName} a sosa:Sample; a emi:Observations ; sosa:isSampleOf emi:Organism ; emi:hasResult :{TraitName} ; prov:wasQuotedFrom {Reference} ; rdfs:comment {Comment}^^xsd:string . :{TraitName} a sosa:Result ; a ?subclass ; dcterms:identifier {TraitId}^^xsd:string ; <https://qudt.org/schema/qudt/hasQuantity> {StdValueStr}^^xsd:string ; <https://qudt.org/schema/qudt/hasUnit> {UnitName}^^xsd:string ; <https://qudt.org/schema/qudt/hasQuantityKind> {ValueKindName}^^xsd:string . 
source		SELECT Dataset, AccSpeciesName, TraitName, CASE WHEN DataType = 'continuous' THEN 'https://purl.org/emi#ContinuousTrait' WHEN DataType = 'discrete' THEN 'https://purl.org/emi#DiscreteTrait' WHEN DataType = 'non-trait' THEN 'https://purl.org/emi#NonTrait' ELSE 'https://purl.org/emi#Result' END AS subclass, Reference, Comment, StdValueStr, UnitName, ValueKindName FROM "tryDb";



## globi mapping individual
mappingId	globi
target		:{interactionRecord} a emi:Interaction ; emi:hasSource :{sourceTaxonId} ; emi:hasTarget :{targetTaxonId}; emi:hasInteractionType :{interactionTypeName} ; emi:hasHabitat :{habitat} ; prov:atLocation :{localityName} ; prov:wasQuotedFrom {referenceDoi}^^xsd:string , {sourceDOI}^^xsd:String . :{interactionTypeName} a emi:InteractionType ; dcterms:identifier <http://purl.obolibrary.org/obo/{interactionTypeId}> . :{habitat} a emi:Habitat ; dcterms:identifier {habitatId}^^xsd:string . :{localityName} a prov:Location ; dcterms:identifier {localityId}^^xsd:string ; <http://www.w3.org/2003/01/geo/wgs84_pos#lat> {decimalLatitude}^^xsd:string ; <http://www.w3.org/2003/01/geo/wgs84_pos#long> {decimalLongitude}^^xsd:string . :{sourceTaxonId}, :{targetTaxonId} a sosa:Sample ; sosa:isSampleOf emi:Organism ; emi:hasAnatomicalEntity :{sourceBodyPartName}, :{targetBodyPartName} ; emi:hasPhysiologicalStage :{sourcePhysiologicalStateName}, :{targetPhysiologicalStateName} ; emi:hasDevelopmentalStage :{sourceLifeStageName}, :{targetLifeStageName} ; emi:hasSex :{sourceSexName}, :{targetSexName} .  :{sourceBodyPartName}, :{targetBodyPartName} a emi:AnatomicalEntity ; dcterms:identifier {sourceBodyPartId}^^xsd:string, {targetBodyPartId}^^xsd:string . :{sourcePhysiologicalStateName}, :{targetPhysiologicalStateName} a emi:PhysiologicalStage ; dcterms:identifier {sourcePhysiologicalStateId}^^xsd:string, {targetPhysiologicalStateId}^^xsd:string . :{sourceLifeStageName}, :{targetLifeStageName} a emi:DevelopmentalStage ; dcterms:identifier {sourceLifeStageId}^^xsd:string, {targetLifeStageId}^^xsd:string . :{sourceSexName}, :{targetSexName} a emi:BiologicalSex ; dcterms:identifier {sourceSexId}^^xsd:string, {targetSexId}^^xsd:string . 
source		SELECT interactionRecord, sourceTaxonId, targetTaxonId, interactionTypeName, habitat, localityName, referenceDoi, sourceDOI, interactionTypeId, habitatId, localityId, decimalLatitude, decimalLongitude, sourceBodyPartName, targetBodyPartName, sourcePhysiologicalStateName, targetPhysiologicalStateName, sourceLifeStageName, targetLifeStageName, sourceSexName, targetSexName, sourceBodyPartId, targetBodyPartId, sourcePhysiologicalStateId, targetPhysiologicalStateId, sourceLifeStageId, targetLifeStageId, sourceSexId, targetSexId from "globi"; 


## taxonomy mapping long with 12 different taxonomic ids put together
mappingId	taxonomyLong
target		<https://tree.opentreeoflife.org/taxonomy/browse?id={ott}>  skos:exactMatch   <http://purl.uniprot.org/taxonomy/{ncbi_otol}>, <http://purl.uniprot.org/taxonomy/{ncbi_wd}>,  <https://www.gbif.org/species/{gbif_otol}>, <https://www.eol.org/pages/{eol}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_otol}> , <https://itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value={itis}>, <https://www.irmng.org/aphia.php?p=taxdetails&id={irmng}>, <https://www.marinespecies.org/aphia.php?p=taxdetails&id={worms}>, <https://www.catalogueoflife.org/data/taxon/{col}>, <https://species.nbnatlas.org/species/{nbn}>, <https://v3.boldsystems.org/index.php/TaxBrowser_Taxonpage?taxid={bold}>, <{plazi}>, {TRY_AccSpeciesName}, <{WdID}> . <http://purl.uniprot.org/taxonomy/{ncbi_otol}> dcterms:identifier {ncbi_otol}^^xsd:int ; skos:inScheme <http://purl.uniprot.org/taxonomy>  . <http://purl.uniprot.org/taxonomy> rdfs:label "UniProtKB-NCBI organismal taxonomy" . <https://www.gbif.org/species/{gbif_otol}> dcterms:identifier {gbif_otol}^^xsd:int ; skos:inScheme <https://www.gbif.org/species> . <https://www.gbif.org/species> rdfs:label "The GBIF taxonomy" . <https://www.eol.org/pages/{eol}> dcterms:identifier {eol}^^xsd:int ; skos:inScheme <https://www.eol.org> . <https://www.eol.org> rdfs:label "Encyclopedia of Life" . <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}> dcterms:identifier {ncbi_wd}^^xsd:int ; skos:inScheme <http://purl.obolibrary.org/obo/ncbitaxon.owl> . <http://purl.obolibrary.org/obo/ncbitaxon.owl>  rdfs:label "NCBI organismal classification" . <{WdID}> dcterms:identifier {wd_id}^^xsd:string ; a emi:Taxon ; skos:inScheme <http://www.wikidata.org/entity> . <http://www.wikidata.org/entity> rdfs:label "Wikidata entities". <https://itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value={itis}> dcterms:identifier {itis}^^xsd:string ; skos:inScheme <https://itis.gov> . <https://itis.gov> rdfs:label "Integrated Taxonomic Information System" . <https://www.irmng.org/aphia.php?p=taxdetails&id={irmng}> dcterms:identifier {irmng}^^xsd:string ; skos:inScheme <https://www.irmng.org> . <https://www.irmng.org> rdfs:label "Interim Register of Marine and Nonmarine Genera" . <https://www.marinespecies.org/aphia.php?p=taxdetails&id={worms}> dcterms:identifier {worms} ; skos:inScheme <https://www.marinespecies.org> . <https://www.marinespecies.org> rdfs:label "World Register of Marine Species" . <https://www.catalogueoflife.org/data/taxon/{col}> dcterms:identifier {col} ; skos:inScheme <https://www.catalogueoflife.org> . <https://www.catalogueoflife.org> rdfs:label "Catalogue of Life" . <https://species.nbnatlas.org/species/{nbn}> dcterms:identifier {nbn} ; skos:inScheme <https://species.nbnatlas.org> . <https://species.nbnatlas.org> rdfs:label "National Biodiversity Network" . <https://v3.boldsystems.org/index.php/TaxBrowser_Taxonpage?taxid={bold}> dcterms:identifier {bold} ; skos:inScheme <https://v3.boldsystems.org> . <https://v3.boldsystems.org> rdfs:label "Barcode of Life Data System" . {plazi} skos:inScheme <https://plazi.org> . <https://plazi.org> rdfs:label "Plazi" . {TRY_AccSpeciesName} skos:inScheme <https://www.try-db.org> . <https://www.try-db.org> rdfs:label "Plant Trait Database" .
source		SELECT DISTINCT IF(ott='NA',null,ott) as ott, IF(WdID = 'NA', null, WdID) as WdID, IF(WdID = 'NA', null, replace(WdID, 'http://www.wikidata.org/entity/','')) as wd_id, IF(eol='NA', null, eol) as eol, IF(gbif_otol='NA', null, gbif_otol) as gbif_otol, IF(ncbi_wd='NA', null, ncbi_wd) as ncbi_wd, IF(ncbi_otol='NA', null, ncbi_otol)  as ncbi_otol, IF(itis='NA', null, itis) as itis, IF(irmng='NA', null, irmng) as irmng, IF(worms='NA', null, worms) as worms, IF(col='NA', null, col) as col, IF(nbn='NA', null, nbn) as nbn, IF(bold='NA', null, bold) as bold, IF(plazi='NA', null, plazi) as plazi, IF(TRY_AccSpeciesName='NA', null, TRY_AccSpeciesName) as TRY_AccSpeciesName FROM taxonomy where  WdID like "http%Q%" 



## try-db JOIN with taxonomy mapping
mappingId	try-db.tax
target		:{Dataset} a emi:Dataset ; sosa:hasSample :{AccSpeciesName} . :{AccSpeciesName} a sosa:Sample; a emi:Observations ; sosa:isSampleOf emi:Organism ; emi:hasResult :{TraitName} ; prov:wasQuotedFrom {Reference} ; rdfs:comment {Comment}^^xsd:string . :{TraitName} a sosa:Result ; a ?subclass ; dcterms:identifier {TraitId}^^xsd:string ; <https://qudt.org/schema/qudt/hasQuantity> {StdValueStr}^^xsd:string ; <https://qudt.org/schema/qudt/hasUnit> {UnitName}^^xsd:string ; <https://qudt.org/schema/qudt/hasQuantityKind> {ValueKindName}^^xsd:string . <https://tree.opentreeoflife.org/taxonomy/browse?id={ott}>  skos:exactMatch   <http://purl.uniprot.org/taxonomy/{ncbi_otol}>, <http://purl.uniprot.org/taxonomy/{ncbi_wd}>,  <https://www.gbif.org/species/{gbif_otol}>, <https://www.eol.org/pages/{eol}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_otol}> , {TRY_AccSpeciesName}, <{WdID}> . <http://purl.uniprot.org/taxonomy/{ncbi_otol}> dcterms:identifier {ncbi_otol}^^xsd:int ; skos:inScheme <http://purl.uniprot.org/taxonomy>  . <http://purl.uniprot.org/taxonomy> rdfs:label "UniProtKB-NCBI organismal taxonomy" . <https://www.gbif.org/species/{gbif_otol}> dcterms:identifier {gbif_otol}^^xsd:int ; skos:inScheme <https://www.gbif.org/species> . <https://www.gbif.org/species> rdfs:label "The GBIF taxonomy" . <https://www.eol.org/pages/{eol}> dcterms:identifier {eol}^^xsd:int ; skos:inScheme <https://www.eol.org> . <https://www.eol.org> rdfs:label "Encyclopedia of Life" . <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}> dcterms:identifier {ncbi_wd}^^xsd:int ; skos:inScheme <http://purl.obolibrary.org/obo/ncbitaxon.owl> . <http://purl.obolibrary.org/obo/ncbitaxon.owl>  rdfs:label "NCBI organismal classification" . <{WdID}> dcterms:identifier {wd_id}^^xsd:string ; a emi:Taxon ; skos:inScheme <http://www.wikidata.org/entity> . <http://www.wikidata.org/entity> rdfs:label "Wikidata entities" . {TRY_AccSpeciesName} skos:inScheme <https://www.try-db.org> . <https://www.try-db.org> rdfs:label "Plant Trait Database" .
source		SELECT Dataset, try.AccSpeciesName, TraitName, CASE WHEN DataType = 'continuous' THEN 'https://purl.org/emi#ContinuousTrait' WHEN DataType = 'discrete' THEN 'https://purl.org/emi#DiscreteTrait' WHEN DataType = 'non-trait' THEN 'https://purl.org/emi#NonTrait' ELSE 'https://purl.org/emi#Result' END AS subclass, Reference, Comment, StdValueStr, UnitName, ValueKindName, IF(ott='NA',null,ott) as ott, IF(WdID = 'NA', null, WdID) as WdID, IF(WdID = 'NA', null, replace(WdID, 'http://www.wikidata.org/entity/','')) as wd_id, IF(eol='NA', null, eol) as eol, IF(gbif_otol='NA', null, gbif_otol) as gbif_otol, IF(ncbi_wd='NA', null, ncbi_wd) as ncbi_wd, IF(ncbi_otol='NA', null, ncbi_otol)  as ncbi_otol FROM tryDb try JOIN taxonomy tax ON try.AccSpeciesName=tax.TRY_AccSpeciesName;



## globi JOIN with taxonomy mapping for source taxon
mappingId	globi.tax.source
target		:{interactionRecord} a emi:Interaction ; emi:hasSource :{source_WD} ; emi:hasInteractionType :{interactionTypeName} ; emi:hasHabitat :{habitat} ; prov:atLocation :{localityName} ; prov:wasQuotedFrom {referenceDoi}^^xsd:string , {sourceDOI}^^xsd:String . :{interactionTypeName} a emi:InteractionType ; dcterms:identifier <http://purl.obolibrary.org/obo/{interactionTypeId}> . :{habitat} a emi:Habitat ; dcterms:identifier {habitatId}^^xsd:string . :{localityName} a prov:Location ; dcterms:identifier {localityId}^^xsd:string ; <http://www.w3.org/2003/01/geo/wgs84_pos#lat> {decimalLatitude}^^xsd:string ; <http://www.w3.org/2003/01/geo/wgs84_pos#long> {decimalLongitude}^^xsd:string . :{source_WD} a sosa:Sample ; sosa:isSampleOf emi:Organism ; emi:hasAnatomicalEntity :{sourceBodyPartName} ; emi:hasPhysiologicalStage :{sourcePhysiologicalStateName} ; emi:hasDevelopmentalStage :{sourceLifeStageName} ; emi:hasSex :{sourceSexName} .  :{sourceBodyPartName} a emi:AnatomicalEntity ; dcterms:identifier {sourceBodyPartId}^^xsd:string . :{sourcePhysiologicalStateName} a emi:PhysiologicalStage ; dcterms:identifier {sourcePhysiologicalStateId}^^xsd:string . :{sourceLifeStageName} a emi:DevelopmentalStage ; dcterms:identifier {sourceLifeStageId}^^xsd:string . :{sourceSexName} a emi:BiologicalSex ; dcterms:identifier {sourceSexId}^^xsd:string . <https://tree.opentreeoflife.org/taxonomy/browse?id={ott}>  skos:exactMatch   <http://purl.uniprot.org/taxonomy/{ncbi_otol}>, <http://purl.uniprot.org/taxonomy/{ncbi_wd}>,  <https://www.gbif.org/species/{gbif_otol}>, <https://www.eol.org/pages/{eol}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_otol}> , <https://itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value={itis}>, <https://www.irmng.org/aphia.php?p=taxdetails&id={irmng}>, <https://www.marinespecies.org/aphia.php?p=taxdetails&id={worms}>, <https://www.catalogueoflife.org/data/taxon/{col}>, <https://species.nbnatlas.org/species/{nbn}>, <https://v3.boldsystems.org/index.php/TaxBrowser_Taxonpage?taxid={bold}>, <{plazi}>, {TRY_AccSpeciesName}, <{source_WD}> . <http://purl.uniprot.org/taxonomy/{ncbi_otol}> dcterms:identifier {ncbi_otol}^^xsd:int ; skos:inScheme <http://purl.uniprot.org/taxonomy>  . <http://purl.uniprot.org/taxonomy> rdfs:label "UniProtKB-NCBI organismal taxonomy" . <https://www.gbif.org/species/{gbif_otol}> dcterms:identifier {gbif_otol}^^xsd:int ; skos:inScheme <https://www.gbif.org/species> . <https://www.gbif.org/species> rdfs:label "The GBIF taxonomy" . <https://www.eol.org/pages/{eol}> dcterms:identifier {eol}^^xsd:int ; skos:inScheme <https://www.eol.org> . <https://www.eol.org> rdfs:label "Encyclopedia of Life" . <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}> dcterms:identifier {ncbi_wd}^^xsd:int ; skos:inScheme <http://purl.obolibrary.org/obo/ncbitaxon.owl> . <http://purl.obolibrary.org/obo/ncbitaxon.owl>  rdfs:label "NCBI organismal classification" . <{source_WD}> dcterms:identifier {wd_id}^^xsd:string ; a emi:Taxon ; skos:inScheme <http://www.wikidata.org/entity> . <http://www.wikidata.org/entity> rdfs:label "Wikidata entities". <https://itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value={itis}> dcterms:identifier {itis}^^xsd:string ; skos:inScheme <https://itis.gov> . <https://itis.gov> rdfs:label "Integrated Taxonomic Information System" . <https://www.irmng.org/aphia.php?p=taxdetails&id={irmng}> dcterms:identifier {irmng}^^xsd:string ; skos:inScheme <https://www.irmng.org> . <https://www.irmng.org> rdfs:label "Interim Register of Marine and Nonmarine Genera" . <https://www.marinespecies.org/aphia.php?p=taxdetails&id={worms}> dcterms:identifier {worms} ; skos:inScheme <https://www.marinespecies.org> . <https://www.marinespecies.org> rdfs:label "World Register of Marine Species" . <https://www.catalogueoflife.org/data/taxon/{col}> dcterms:identifier {col} ; skos:inScheme <https://www.catalogueoflife.org> . <https://www.catalogueoflife.org> rdfs:label "Catalogue of Life" . <https://species.nbnatlas.org/species/{nbn}> dcterms:identifier {nbn} ; skos:inScheme <https://species.nbnatlas.org> . <https://species.nbnatlas.org> rdfs:label "National Biodiversity Network" . <https://v3.boldsystems.org/index.php/TaxBrowser_Taxonpage?taxid={bold}> dcterms:identifier {bold} ; skos:inScheme <https://v3.boldsystems.org> . <https://v3.boldsystems.org> rdfs:label "Barcode of Life Data System" . {plazi} skos:inScheme <https://plazi.org> . <https://plazi.org> rdfs:label "Plazi" . {TRY_AccSpeciesName} skos:inScheme <https://www.try-db.org> . <https://www.try-db.org> rdfs:label "Plant Trait Database" .
source		SELECT interactionRecord, interactionTypeName, habitat, localityName, referenceDoi, sourceDOI, interactionTypeId, habitatId, localityId, decimalLatitude, decimalLongitude, sourceBodyPartName, sourcePhysiologicalStateName, sourceLifeStageName, sourceSexName, sourceBodyPartId, sourcePhysiologicalStateId, sourceLifeStageId, sourceSexId, IF(ott='NA',null,ott) as ott, IF(g.source_WD = 'NA', null, g.source_WD) as source_WD, IF(source_WD = 'NA', null, replace(source_WD, 'http://www.wikidata.org/entity/','')) as wd_id, IF(eol='NA', null, eol) as source_eol, IF(gbif_otol='NA', null, gbif_otol) as source_gbif_otol, IF(ncbi_wd='NA', null, ncbi_wd) as source_ncbi_wd, IF(ncbi_otol='NA', null, ncbi_otol)  as source_ncbi_otol, IF(itis='NA', null, itis) as source_itis, IF(irmng='NA', null, irmng) as source_irmng, IF(worms='NA', null, worms) as source_worms, IF(col='NA', null, col) as source_col, IF(nbn='NA', null, nbn) as source_nbn, IF(bold='NA', null, bold) as source_bold, IF(plazi='NA', null, plazi) as source_plazi, IF(TRY_AccSpeciesName='NA', null, TRY_AccSpeciesName) as source_TRY_AccSpeciesName from globi g JOIN taxonomy t ON g.source_WD = t.WdID; 



## globi JOIN with taxonomy mapping for target taxon
mappingId	globi.tax.target
target		:{interactionRecord} a emi:Interaction ; emi:hasSource :{target_WD} ; emi:hasInteractionType :{interactionTypeName} ; emi:hasHabitat :{habitat} ; prov:atLocation :{localityName} ; prov:wasQuotedFrom {referenceDoi}^^xsd:string , {sourceDOI}^^xsd:String . :{interactionTypeName} a emi:InteractionType ; dcterms:identifier <http://purl.obolibrary.org/obo/{interactionTypeId}> . :{habitat} a emi:Habitat ; dcterms:identifier {habitatId}^^xsd:string . :{localityName} a prov:Location ; dcterms:identifier {localityId}^^xsd:string ; <http://www.w3.org/2003/01/geo/wgs84_pos#lat> {decimalLatitude}^^xsd:string ; <http://www.w3.org/2003/01/geo/wgs84_pos#long> {decimalLongitude}^^xsd:string . :{target_WD} a sosa:Sample ; sosa:isSampleOf emi:Organism ; emi:hasAnatomicalEntity :{targetBodyPartName} ; emi:hasPhysiologicalStage :{targetPhysiologicalStateName} ; emi:hasDevelopmentalStage :{targetLifeStageName} ; emi:hasSex :{targetSexName} .  :{targetBodyPartName} a emi:AnatomicalEntity ; dcterms:identifier {targetBodyPartId}^^xsd:string . :{targetPhysiologicalStateName} a emi:PhysiologicalStage ; dcterms:identifier {targetPhysiologicalStateId}^^xsd:string . :{targetLifeStageName} a emi:DevelopmentalStage ; dcterms:identifier {targetLifeStageId}^^xsd:string . :{targetSexName} a emi:BiologicalSex ; dcterms:identifier {targetSexId}^^xsd:string . <https://tree.opentreeoflife.org/taxonomy/browse?id={ott}>  skos:exactMatch   <http://purl.uniprot.org/taxonomy/{ncbi_otol}>, <http://purl.uniprot.org/taxonomy/{ncbi_wd}>,  <https://www.gbif.org/species/{gbif_otol}>, <https://www.eol.org/pages/{eol}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}>, <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_otol}> , <https://itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value={itis}>, <https://www.irmng.org/aphia.php?p=taxdetails&id={irmng}>, <https://www.marinespecies.org/aphia.php?p=taxdetails&id={worms}>, <https://www.catalogueoflife.org/data/taxon/{col}>, <https://species.nbnatlas.org/species/{nbn}>, <https://v3.boldsystems.org/index.php/TaxBrowser_Taxonpage?taxid={bold}>, <{plazi}>, {TRY_AccSpeciesName}, <{target_WD}> . <http://purl.uniprot.org/taxonomy/{ncbi_otol}> dcterms:identifier {ncbi_otol}^^xsd:int ; skos:inScheme <http://purl.uniprot.org/taxonomy>  . <http://purl.uniprot.org/taxonomy> rdfs:label "UniProtKB-NCBI organismal taxonomy" . <https://www.gbif.org/species/{gbif_otol}> dcterms:identifier {gbif_otol}^^xsd:int ; skos:inScheme <https://www.gbif.org/species> . <https://www.gbif.org/species> rdfs:label "The GBIF taxonomy" . <https://www.eol.org/pages/{eol}> dcterms:identifier {eol}^^xsd:int ; skos:inScheme <https://www.eol.org> . <https://www.eol.org> rdfs:label "Encyclopedia of Life" . <http://purl.obolibrary.org/obo/NCBITaxon_{ncbi_wd}> dcterms:identifier {ncbi_wd}^^xsd:int ; skos:inScheme <http://purl.obolibrary.org/obo/ncbitaxon.owl> . <http://purl.obolibrary.org/obo/ncbitaxon.owl>  rdfs:label "NCBI organismal classification" . <{target_WD}> dcterms:identifier {wd_id}^^xsd:string ; a emi:Taxon ; skos:inScheme <http://www.wikidata.org/entity> . <http://www.wikidata.org/entity> rdfs:label "Wikidata entities". <https://itis.gov/servlet/SingleRpt/SingleRpt?search_topic=TSN&search_value={itis}> dcterms:identifier {itis}^^xsd:string ; skos:inScheme <https://itis.gov> . <https://itis.gov> rdfs:label "Integrated Taxonomic Information System" . <https://www.irmng.org/aphia.php?p=taxdetails&id={irmng}> dcterms:identifier {irmng}^^xsd:string ; skos:inScheme <https://www.irmng.org> . <https://www.irmng.org> rdfs:label "Interim Register of Marine and Nonmarine Genera" . <https://www.marinespecies.org/aphia.php?p=taxdetails&id={worms}> dcterms:identifier {worms} ; skos:inScheme <https://www.marinespecies.org> . <https://www.marinespecies.org> rdfs:label "World Register of Marine Species" . <https://www.catalogueoflife.org/data/taxon/{col}> dcterms:identifier {col} ; skos:inScheme <https://www.catalogueoflife.org> . <https://www.catalogueoflife.org> rdfs:label "Catalogue of Life" . <https://species.nbnatlas.org/species/{nbn}> dcterms:identifier {nbn} ; skos:inScheme <https://species.nbnatlas.org> . <https://species.nbnatlas.org> rdfs:label "National Biodiversity Network" . <https://v3.boldsystems.org/index.php/TaxBrowser_Taxonpage?taxid={bold}> dcterms:identifier {bold} ; skos:inScheme <https://v3.boldsystems.org> . <https://v3.boldsystems.org> rdfs:label "Barcode of Life Data System" . {plazi} skos:inScheme <https://plazi.org> . <https://plazi.org> rdfs:label "Plazi" . {TRY_AccSpeciesName} skos:inScheme <https://www.try-db.org> . <https://www.try-db.org> rdfs:label "Plant Trait Database" .
source		SELECT interactionRecord, interactionTypeName, habitat, localityName, referenceDoi, sourceDOI, interactionTypeId, habitatId, localityId, decimalLatitude, decimalLongitude, targetBodyPartName, targetPhysiologicalStateName, targetLifeStageName, targetSexName, targetBodyPartId, targetPhysiologicalStateId, targetLifeStageId, targetSexId, IF(ott='NA',null,ott) as ott, IF(g.target_WD = 'NA', null, g.target_WD) as target_WD, IF(target_WD = 'NA', null, replace(target_WD, 'http://www.wikidata.org/entity/','')) as wd_id, IF(eol='NA', null, eol) as target_eol, IF(gbif_otol='NA', null, gbif_otol) as target_gbif_otol, IF(ncbi_wd='NA', null, ncbi_wd) as target_ncbi_wd, IF(ncbi_otol='NA', null, ncbi_otol)  as target_ncbi_otol, IF(itis='NA', null, itis) as target_itis, IF(irmng='NA', null, irmng) as target_irmng, IF(worms='NA', null, worms) as target_worms, IF(col='NA', null, col) as target_col, IF(nbn='NA', null, nbn) as target_nbn, IF(bold='NA', null, bold) as target_bold, IF(plazi='NA', null, plazi) as target_plazi, IF(TRY_AccSpeciesName='NA', null, TRY_AccSpeciesName) as target_TRY_AccSpeciesName from globi g JOIN taxonomy t ON g.target_WD = t.WdID; 
